<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÍGNEO - TIENDAS</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            image-rendering: pixelated;
        }

        @font-face {
            font-family: 'Determination';
            src: url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        }

        body {
            background: #000000;
            font-family: 'Press Start 2P', monospace;
            color: #ffffff;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        .estrellas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        .estrella {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #ffffff;
            opacity: 0;
            animation: parpadear 3s infinite;
        }

        @keyframes parpadear {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }

        .caja-undertale {
            position: relative;
            z-index: 10;
            max-width: 1000px;
            width: 100%;
            max-height: 85vh;
            overflow-y: auto;
            border: 3px solid #ffffff;
            background: #000000;
            padding: 30px;
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 20px;
            text-align: center;
            color: #ffffff;
        }

        .linea {
            width: 100%;
            height: 3px;
            background: #ffffff;
            margin: 20px 0 30px;
        }

        /* INFO SUPERIOR */
        .info-superior {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 2px solid #ffffff;
            padding: 20px;
            margin-bottom: 30px;
        }

        .personaje-info {
            display: flex;
            gap: 20px;
        }

        .info-item {
            text-align: center;
        }

        .info-item .label {
            color: #7f7f7f;
            font-size: 0.5rem;
            margin-bottom: 5px;
        }

        .info-item .valor {
            color: #ffff66;
            font-size: 0.8rem;
        }

        .cristales {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .cristales .label {
            color: #7f7f7f;
            font-size: 0.7rem;
        }

        .cristales .valor {
            color: #ffff66;
            font-size: 1rem;
        }

        /* INFO DEL REINO */
        .reino-info {
            border: 2px solid #ffffff;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }

        .reino-nombre {
            color: #ffff66;
            font-size: 1rem;
            margin-bottom: 10px;
        }

        .reino-desc {
            color: #7f7f7f;
            font-size: 0.6rem;
            line-height: 1.5;
        }

        /* GRID DE TIENDAS */
        .tiendas-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .tienda-card {
            border: 2px solid #ffffff;
            background: #0a0a0a;
            padding: 20px;
            cursor: pointer;
            transition: all 0.1s;
            position: relative;
        }

        .tienda-card:hover:not(.bloqueada) {
            border-color: #ffff66;
            transform: translate(-2px, -2px);
        }

        .tienda-card.bloqueada {
            opacity: 0.5;
            filter: grayscale(80%);
            cursor: not-allowed;
            pointer-events: none;
        }

        .tienda-card.bloqueada::after {
            content: "";
            position: absolute;
            top: 10px;
            right: 15px;
            width: 16px;
            height: 20px;
            background: #ff5555;
            clip-path: polygon(20% 0%, 80% 0%, 100% 20%, 100% 80%, 80% 100%, 20% 100%, 0% 80%, 0% 20%);
        }

        /* ICONOS PIXEL ART PARA TIENDAS */
        .tienda-icono {
            width: 48px;
            height: 48px;
            margin: 0 auto 15px;
            image-rendering: pixelated;
        }

        .icono-pocion { 
            background: #ff5555; 
            clip-path: polygon(25% 0%, 75% 0%, 100% 25%, 100% 75%, 75% 100%, 25% 100%, 0% 75%, 0% 25%);
        }
        .icono-corona { 
            background: #ffff66;
            clip-path: polygon(25% 0%, 75% 0%, 100% 30%, 80% 100%, 20% 100%, 0% 30%);
        }
        .icono-espada { 
            background: #aaaaaa;
            clip-path: polygon(40% 0%, 60% 0%, 55% 40%, 55% 100%, 45% 100%, 45% 40%);
        }
        .icono-material { 
            background: #55aa55;
            clip-path: polygon(0% 0%, 100% 0%, 80% 50%, 100% 100%, 0% 100%, 20% 50%);
        }
        .icono-misc { 
            background: #777777;
            border: 2px solid #ffff66;
            background-image: linear-gradient(45deg, #000000 25%, transparent 25%);
            background-size: 8px 8px;
        }

        .tienda-nombre {
            color: #ffff66;
            font-size: 0.9rem;
            margin-bottom: 10px;
            text-align: center;
        }

        .tienda-tipo {
            color: #7f7f7f;
            font-size: 0.5rem;
            margin-bottom: 15px;
            text-align: center;
            border-bottom: 1px solid #444444;
            padding-bottom: 10px;
        }

        .tienda-descripcion {
            color: #ffffff;
            font-size: 0.55rem;
            line-height: 1.5;
            margin-bottom: 15px;
        }

        .tienda-eslogan {
            color: #ffff66;
            font-size: 0.5rem;
            font-style: italic;
            padding: 10px;
            border-top: 1px solid #444444;
            border-bottom: 1px solid #444444;
            margin-bottom: 10px;
        }

        .tienda-ambiente {
            color: #7f7f7f;
            font-size: 0.45rem;
            line-height: 1.4;
        }

        /* BOTÓN VOLVER */
        .btn-volver {
            background: #000000;
            border: 2px solid #ffffff;
            color: white;
            font-family: 'Press Start 2P', monospace;
            font-size: 0.9rem;
            padding: 15px 30px;
            cursor: pointer;
            width: 100%;
            margin-top: 20px;
        }

        .btn-volver:hover {
            border-color: #ffff66;
            color: #ffff66;
        }

        @media (max-width: 700px) {
            .tiendas-grid { grid-template-columns: 1fr; }
            .info-superior { flex-direction: column; gap: 15px; }
        }
    </style>
</head>
<body>
    <div class="estrellas" id="estrellas"></div>

    <div class="caja-undertale">
        <h1>TIENDAS DE ÍGNEO</h1>
        <div class="linea"></div>

        <!-- INFO SUPERIOR -->
        <div class="info-superior">
            <div class="personaje-info">
                <div class="info-item">
                    <div class="label">PERSONAJE</div>
                    <div class="valor" id="nombre-personaje">KAELEN</div>
                </div>
                <div class="info-item">
                    <div class="label">REINO</div>
                    <div class="valor" id="reino-personaje">KAIDOM</div>
                </div>
                <div class="info-item">
                    <div class="label">RANGO</div>
                    <div class="valor" id="rango-personaje">RANGO IV</div>
                </div>
            </div>
            <div class="cristales">
                <span class="label">CRISTALES:</span>
                <span class="valor" id="cristales">2450</span>
            </div>
        </div>

        <!-- INFO DEL REINO ACTUAL -->
        <div class="reino-info" id="reino-info">
            <div class="reino-nombre" id="reino-nombre">REINO DE KAIDOM</div>
            <div class="reino-desc" id="reino-desc">Reino Acuático, donde las olas susurran secretos antiguos.</div>
        </div>

        <!-- GRID DE TIENDAS -->
        <div class="tiendas-grid" id="tiendas-grid"></div>

        <!-- BOTÓN VOLVER -->
        <button class="btn-volver" onclick="window.location.href='menu-desbloqueado.html'">
            VOLVER AL MENÚ
        </button>
    </div>

    <script>
        // GENERAR ESTRELLAS
        for (let i = 0; i < 150; i++) {
            const estrella = document.createElement('div');
            estrella.className = 'estrella';
            estrella.style.left = Math.random() * 100 + '%';
            estrella.style.top = Math.random() * 100 + '%';
            estrella.style.animationDelay = Math.random() * 3 + 's';
            document.getElementById('estrellas').appendChild(estrella);
        }

        // ===== DATOS DEL PERSONAJE =====
        const personaje = {
            nombre: 'KAELEN',
            reino: 'KAIDOM',
            reinoId: 'kaidom',
            rango: 'RANGO IV',
            cristales: 2450
        };

        // ===== DATOS DE LOS REINOS =====
        const reinos = {
            'astralith': {
                nombre: 'REINO DE ASTRALITH-VANDERMERE',
                desc: 'Reino Celestial, donde las nubes guardan los sueños de los antiguos.'
            },
            'norum': {
                nombre: 'REINO DE NORUM DOMINAI',
                desc: 'Reino Infernal, donde el fuego eterno forja almas guerreras.'
            },
            'thanatror': {
                nombre: 'REINO DE THANATROR',
                desc: 'Reino Sombrío, donde la muerte susurra al oído de los valientes.'
            },
            'balnath': {
                nombre: 'REINO DE BALNATH',
                desc: 'Reino de la Tierra, donde las montañas guardan secretos milenarios.'
            },
            'kaidom': {
                nombre: 'REINO DE KAIDOM',
                desc: 'Reino Acuático, donde las olas susurran secretos antiguos.'
            }
        };

        // ===== FUNCIÓN PARA OBTENER CLASE DE ICONO =====
        function getIconClass(tipo) {
            switch(tipo) {
                case 'CONSUMIBLES': return 'icono-pocion';
                case 'SAGRADOS': return 'icono-corona';
                case 'EQUIPO': return 'icono-espada';
                case 'MATERIALES': return 'icono-material';
                default: return 'icono-misc';
            }
        }

        // ===== DATOS DE LAS 5 TIENDAS =====
        const tiendas = [
            {
                id: 1,
                nombre: 'EL CÁLIZ ETERNO',
                tipo: 'CONSUMIBLES',
                icono: 'pocion',
                descripcion: 'Pociones, elixires, carnes místicas y frutas del Nemeton.',
                eslogan: '"Lo que el cuerpo necesita, el alma lo consume."',
                ambiente: 'Un aroma a hierbas frescas y frascos de cristal que brillan con luz propia.',
                disponibleEn: ['astralith', 'kaidom', 'balnath']
            },
            {
                id: 2,
                nombre: 'RELIQUIAS DEL ALBA',
                tipo: 'SAGRADOS',
                icono: 'corona',
                descripcion: 'Objetos únicos, huevos de fénix, ojos de la verdad y contratos de almas.',
                eslogan: '"Para aquellos que buscan lo que no debe ser encontrado."',
                ambiente: 'Un silencio sepulcral, con pedestales de terciopelo y guardias de piedra.',
                disponibleEn: ['astralith', 'norum']
            },
            {
                id: 3,
                nombre: 'EL YUNQUE CENIZO',
                tipo: 'EQUIPO',
                icono: 'espada',
                descripcion: 'Armas, armaduras y todo lo que un guerrero necesita para la batalla.',
                eslogan: '"Tu piel será acero; tu mano, la muerte."',
                ambiente: 'Calor intenso, chispas saltando y el sonido constante del martillo.',
                disponibleEn: ['norum', 'thanatror', 'balnath']
            },
            {
                id: 4,
                nombre: 'ESENCIA PURA',
                tipo: 'MATERIALES',
                icono: 'material',
                descripcion: 'Lingotes, polvo de diamante, aceites mágicos y cuero de quimera.',
                eslogan: '"La base de toda grandeza nace de la tierra."',
                ambiente: 'Estanterías llenas de materias primas brutas y rocas brillantes.',
                disponibleEn: ['balnath', 'thanatror']
            },
            {
                id: 5,
                nombre: 'EL BAZAR UMBRÍO',
                tipo: 'MISCELÁNEOS',
                icono: 'misc',
                descripcion: 'Brújulas, llaves de cristal y objetos extraños pero vitales.',
                eslogan: '"Lo que no sabías que necesitabas está justo aquí."',
                ambiente: 'Una tienda desordenada llena de curiosidades mecánicas.',
                disponibleEn: ['kaidom', 'norum', 'thanatror']
            }
        ];

        // ===== ACTUALIZAR INFO DEL PERSONAJE =====
        document.getElementById('nombre-personaje').textContent = personaje.nombre;
        document.getElementById('reino-personaje').textContent = personaje.reino;
        document.getElementById('rango-personaje').textContent = personaje.rango;
        document.getElementById('cristales').textContent = personaje.cristales;

        // ===== ACTUALIZAR INFO DEL REINO =====
        const reinoActual = reinos[personaje.reinoId];
        document.getElementById('reino-nombre').textContent = reinoActual.nombre;
        document.getElementById('reino-desc').textContent = reinoActual.desc;

        // ===== RENDERIZAR TIENDAS =====
        function renderizarTiendas() {
            const grid = document.getElementById('tiendas-grid');
            grid.innerHTML = '';

            tiendas.forEach(tienda => {
                // Verificar si la tienda está disponible en el reino actual
                const disponible = tienda.disponibleEn.includes(personaje.reinoId);
                
                const card = document.createElement('div');
                card.className = `tienda-card ${!disponible ? 'bloqueada' : ''}`;
                
                card.innerHTML = `
                    <div class="tienda-icono ${getIconClass(tienda.tipo)}"></div>
                    <div class="tienda-nombre">${tienda.nombre}</div>
                    <div class="tienda-tipo">${tienda.tipo}</div>
                    <div class="tienda-descripcion">${tienda.descripcion}</div>
                    <div class="tienda-eslogan">${tienda.eslogan}</div>
                    <div class="tienda-ambiente">${tienda.ambiente}</div>
                `;

                if (disponible) {
                    card.onclick = () => {
                        window.location.href = `tienda-detalle.html?id=${tienda.id}`;
                    };
                }

                grid.appendChild(card);
            });
        }

        // INICIALIZAR
        renderizarTiendas();
    </script>
</body>
</html>
