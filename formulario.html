<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÍGNEO - CREAR PERSONAJE</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            image-rendering: pixelated;
        }

        @font-face {
            font-family: 'Determination';
            src: url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        }

        body {
            background: #000000;
            font-family: 'Press Start 2P', monospace;
            color: #ffffff;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        /* Estrellas pixeladas */
        .estrellas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        .estrella {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #ffffff;
            opacity: 0;
            animation: parpadear 3s infinite;
        }

        @keyframes parpadear {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }

        /* Caja principal (con scroll) */
        .caja-undertale {
            position: relative;
            z-index: 10;
            max-width: 900px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            border: 3px solid #ffffff;
            background: #000000;
            padding: 30px;
            scrollbar-width: thin;
            scrollbar-color: #ffffff #000000;
        }

        .caja-undertale::-webkit-scrollbar {
            width: 8px;
        }

        .caja-undertale::-webkit-scrollbar-track {
            background: #000000;
            border: 1px solid #ffffff;
        }

        .caja-undertale::-webkit-scrollbar-thumb {
            background: #ffffff;
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 30px;
            text-align: center;
            font-weight: normal;
            letter-spacing: 4px;
            color: #ffffff;
        }

        .linea {
            width: 100%;
            height: 3px;
            background: #ffffff;
            margin: 20px 0 30px;
        }

        /* Secciones del formulario */
        .seccion {
            margin-bottom: 40px;
            border: 2px solid #ffffff;
            padding: 20px;
        }

        .seccion-titulo {
            font-size: 1rem;
            margin-bottom: 20px;
            color: #ffffff;
            border-bottom: 2px solid #ffffff;
            padding-bottom: 10px;
        }

        /* Grid para campos básicos */
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        /* Grid para 3 columnas (habilidades) */
        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .campo {
            margin-bottom: 15px;
        }

        .campo label {
            display: block;
            font-size: 0.7rem;
            margin-bottom: 8px;
            color: #7f7f7f;
        }

        .campo input, .campo select {
            width: 100%;
            padding: 12px;
            background: #000000;
            border: 2px solid #ffffff;
            color: #ffffff;
            font-family: 'Press Start 2P', monospace;
            font-size: 0.8rem;
            outline: none;
        }

        .campo input:focus, .campo select:focus {
            border-color: #ffff66;
        }

        /* ===== SISTEMA DE BARRITAS ===== */
        .barra-item {
            border: 1px solid #444444;
            padding: 15px;
            margin-bottom: 10px;
        }

        .barra-nombre {
            font-size: 0.6rem;
            margin-bottom: 10px;
            color: #7f7f7f;
        }

        .barra-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .barra-slider {
            flex: 1;
            height: 8px;
            background: #000000;
            border: 2px solid #ffffff;
            position: relative;
            cursor: pointer;
        }

        .barra-progreso {
            height: 100%;
            background: #ffff66;
            width: 0%;
            transition: width 0.05s;
        }

        .barra-valor {
            font-size: 0.6rem;
            color: #ffff66;
            min-width: 30px;
            text-align: right;
        }

        .barra-botones {
            display: flex;
            gap: 5px;
        }

        .barra-btn {
            width: 25px;
            height: 25px;
            background: #000000;
            border: 2px solid #ffffff;
            color: white;
            font-family: 'Press Start 2P', monospace;
            font-size: 0.8rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .barra-btn:hover {
            border-color: #ffff66;
            color: #ffff66;
        }

        .numeritos {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            padding: 0 5px;
        }

        .numeritos span {
            font-size: 0.4rem;
            color: #7f7f7f;
        }

        /* Contador de puntos por sección */
        .contador-seccion {
            font-size: 0.7rem;
            color: #ffff66;
            margin-top: 10px;
            text-align: right;
        }

        /* Botón de envío */
        .btn-enviar {
            background: #000000;
            border: 2px solid #ffffff;
            color: white;
            font-family: 'Press Start 2P', monospace;
            font-size: 1rem;
            padding: 20px 40px;
            cursor: pointer;
            width: 100%;
            transition: all 0.1s;
            margin-top: 20px;
        }

        .btn-enviar:hover {
            border-color: #ffff66;
            color: #ffff66;
            animation: temblor 0.1s infinite;
        }

        @keyframes temblor {
            0% { transform: translate(0, 0); }
            25% { transform: translate(1px, -1px); }
            50% { transform: translate(-1px, 1px); }
            75% { transform: translate(1px, 1px); }
            100% { transform: translate(-1px, -1px); }
        }

        /* Mensajes flotantes */
        .mensaje-flotante {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #000000;
            border: 3px solid #ffffff;
            padding: 30px;
            z-index: 1000;
            max-width: 500px;
            width: 90%;
            text-align: center;
            line-height: 2;
        }

        .mensaje-flotante p {
            color: #ffffff;
            margin-bottom: 30px;
            font-size: 0.9rem;
        }

        .mensaje-flotante button {
            background: #000000;
            border: 2px solid #ffffff;
            color: white;
            font-family: 'Press Start 2P', monospace;
            font-size: 0.8rem;
            padding: 12px 25px;
            cursor: pointer;
            transition: all 0.1s;
        }

        .mensaje-flotante button:hover {
            border-color: #ffff66;
            color: #ffff66;
        }

        /* Subir imagen centrada */
        .imagen-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 30px;
        }

        .subir-imagen {
            border: 2px dashed #ffffff;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            width: 200px;
            height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .subir-imagen:hover {
            border-color: #ffff66;
        }

        .subir-imagen p {
            font-size: 0.7rem;
            color: #7f7f7f;
        }

        #imagen-previa {
            max-width: 180px;
            max-height: 180px;
            display: none;
        }
    </style>
</head>
<body>
    <div class="estrellas" id="estrellas"></div>

    <div class="caja-undertale">
        <h1>CREAR PERSONAJE</h1>
        <div class="linea"></div>

        <!-- SUBIR IMAGEN (CENTRADA) -->
        <div class="imagen-container">
            <div class="subir-imagen" onclick="document.getElementById('cargar-imagen').click()">
                <p>▼ SUBIR IMAGEN ▼</p>
                <img id="imagen-previa" src="#" alt="Vista previa">
            </div>
        </div>
        <input type="file" id="cargar-imagen" accept="image/*" style="display: none;">

        <!-- DATOS BÁSICOS -->
        <div class="seccion">
            <div class="seccion-titulo">DATOS BÁSICOS</div>
            <div class="grid-2">
                <div class="campo">
                    <label>NOMBRE</label>
                    <input type="text" id="nombre" maxlength="20">
                </div>
                <div class="campo">
                    <label>EMAIL</label>
                    <input type="email" id="email">
                </div>
                <div class="campo">
                    <label>EDAD</label>
                    <input type="number" id="edad" min="1" max="999">
                </div>
                <div class="campo">
                    <label>GÉNERO</label>
                    <select id="genero">
                        <option value="">-</option>
                        <option>MASCULINO</option>
                        <option>FEMENINO</option>
                        <option>OTRO</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- RAZA Y JERARQUÍA -->
        <div class="seccion">
            <div class="seccion-titulo">RAZA Y JERARQUÍA</div>
            <div class="grid-2">
                <div class="campo">
                    <label>RAZA / ESPECIE</label>
                    <select id="raza">
                        <option value="">- SELECCIONAR -</option>
                        <optgroup label="ASTRALITH-VANDERMERE">
                            <option>La criatura de las escaleras</option>
                            <option>Las hadas</option>
                            <option>El elefante de 3 cabezas</option>
                            <option>Los ángeles</option>
                            <option>Los animales celestiales</option>
                            <option>Los pegados</option>
                            <option>El fénix</option>
                            <option>Coatl</option>
                        </optgroup>
                        <optgroup label="NORUM DOMINAI">
                            <option>Los demonios</option>
                            <option>Los minotauros</option>
                            <option>Los basiliscos</option>
                            <option>Las gárgolas</option>
                            <option>Los onni</option>
                            <option>Nogitsune</option>
                            <option>Kitsune</option>
                            <option>La velas</option>
                            <option>Los banshee</option>
                            <option>El dybbuk</option>
                            <option>Los yokai</option>
                            <option>Berserk</option>
                            <option>Sabuesos del infierno</option>
                            <option>La cacería salvaje</option>
                            <option>Sucubos</option>
                        </optgroup>
                        <optgroup label="THANATROR">
                            <option>Centauro</option>
                            <option>Onocentauros</option>
                            <option>Los icocentauros</option>
                            <option>La quimera</option>
                            <option>Los ogros</option>
                            <option>Los orcos</option>
                            <option>Orto</option>
                            <option>Las gorgonas</option>
                            <option>Los satiros</option>
                            <option>Los hombres lobo</option>
                            <option>Los dragones</option>
                            <option>Los fenrir</option>
                            <option>Zombie</option>
                            <option>Kanima</option>
                            <option>Los trolls</option>
                            <option>Los gigantes</option>
                            <option>Cambia formas</option>
                            <option>La chupa cabras</option>
                            <option>Los genios</option>
                            <option>Moby Dick</option>
                            <option>Los coyote</option>
                            <option>Brujas</option>
                            <option>Nemeton</option>
                            <option>Druidas</option>
                            <option>Webdigos</option>
                            <option>Los darach</option>
                        </optgroup>
                        <optgroup label="BALNATH">
                            <option>Los elfos</option>
                            <option>Los duendes</option>
                            <option>Los enanos</option>
                            <option>Los golems</option>
                            <option>Los gromos</option>
                            <option>Los goblins</option>
                            <option>Pixiu</option>
                        </optgroup>
                        <optgroup label="KAIDOM">
                            <option>Sirenas</option>
                            <option>Tifones</option>
                            <option>La hidra de lerna</option>
                            <option>Ofiotauro</option>
                            <option>La escila</option>
                            <option>Las ninfas</option>
                            <option>Mounstros del lago ness</option>
                            <option>Leviatan</option>
                            <option>El Kraken</option>
                            <option>Hipocampo</option>
                            <option>Shenlong</option>
                            <option>Megalodon</option>
                            <option>Vampiros</option>
                        </optgroup>
                    </select>
                </div>
                <div class="campo">
                    <label>JERARQUÍA / RANGO</label>
                    <select id="rango">
                        <option value="">- SELECCIONAR -</option>
                        <option>Rango I: Divino</option>
                        <option>Rango II: Alta Nobleza</option>
                        <option>Rango III: Nobleza/Gobierno</option>
                        <option>Rango IV: Élite/Protector</option>
                        <option>Rango V: Ciudadano/Guerrero</option>
                        <option>Rango VI: Común/Sirviente</option>
                        <option>Rango VII: Inferior/Exiliado</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- HABILIDADES (12 habilidades, 25 puntos total) -->
        <div class="seccion">
            <div class="seccion-titulo">HABILIDADES <span style="color: #ffff66;">25 PUNTOS</span></div>
            <div id="habilidades-container"></div>
            <div class="contador-seccion" id="contador-habilidades">25</div>
        </div>

        <!-- CUERPO (5 atributos, 12 puntos) -->
        <div class="seccion">
            <div class="seccion-titulo">CUERPO <span style="color: #ffff66;">12 PUNTOS</span></div>
            <div id="cuerpo-container"></div>
            <div class="contador-seccion" id="contador-cuerpo">12</div>
            <div class="campo" style="margin-top: 15px;">
                <label>ALTURA</label>
                <input type="text" id="altura" placeholder="ej: 1.75m">
            </div>
        </div>

        <!-- MENTE (4 atributos, 9 puntos) -->
        <div class="seccion">
            <div class="seccion-titulo">MENTE <span style="color: #ffff66;">9 PUNTOS</span></div>
            <div id="mente-container"></div>
            <div class="contador-seccion" id="contador-mente">9</div>
        </div>

        <!-- SOCIAL (6 atributos, 14 puntos) -->
        <div class="seccion">
            <div class="seccion-titulo">SOCIAL <span style="color: #ffff66;">14 PUNTOS</span></div>
            <div id="social-container"></div>
            <div class="contador-seccion" id="contador-social">14</div>
        </div>

        <!-- OPCIONES EXCLUSIVAS -->
        <div class="seccion">
            <div class="seccion-titulo">ELECCIONES</div>
            <div class="grid-2">
                <div class="campo">
                    <label>HONESTO / CARIÑOSO</label>
                    <select id="opcion1">
                        <option value="">-</option>
                        <option>HONESTO</option>
                        <option>CARIÑOSO</option>
                    </select>
                </div>
                <div class="campo">
                    <label>LIDER / SEGUIDOR</label>
                    <select id="opcion2">
                        <option value="">-</option>
                        <option>LIDER</option>
                        <option>SEGUIDOR</option>
                    </select>
                </div>
                <div class="campo">
                    <label>EDUCADO / RUDO</label>
                    <select id="opcion3">
                        <option value="">-</option>
                        <option>EDUCADO</option>
                        <option>RUDO</option>
                    </select>
                </div>
                <div class="campo">
                    <label>POLÍTICO / INDIFERENTE</label>
                    <select id="opcion4">
                        <option value="">-</option>
                        <option>POLÍTICO</option>
                        <option>INDIFERENTE</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- BOTÓN ENVIAR -->
        <button class="btn-enviar" onclick="enviarFormulario()">ENVIAR SOLICITUD</button>
    </div>

    <!-- MENSAJE FLOTANTE -->
    <div class="mensaje-flotante" id="mensaje" style="display: none;">
        <p id="mensaje-texto"></p>
        <button onclick="cerrarMensaje()">CERRAR</button>
    </div>

    <script>
        // GENERAR ESTRELLAS
        const estrellas = document.getElementById('estrellas');
        for (let i = 0; i < 150; i++) {
            const estrella = document.createElement('div');
            estrella.className = 'estrella';
            estrella.style.left = Math.random() * 100 + '%';
            estrella.style.top = Math.random() * 100 + '%';
            estrella.style.animationDelay = Math.random() * 3 + 's';
            estrellas.appendChild(estrella);
        }

        // LISTAS DE HABILIDADES Y ATRIBUTOS
        const habilidades = [
            'PERSUASIÓN', 'COMUNICACIÓN', 'PERCEPCIÓN', 'MEDITACIÓN',
            'ALFABETISMO', 'CREATIVIDAD', 'TECNOLOGÍA', 'COMBATE',
            'SUPERVIVENCIA', 'COQUETA', 'SEDUCCIÓN', 'SUERTE'
        ];

        const cuerpo = ['DESTREZA', 'SALUD', 'ENERGÍA', 'BELLEZA', 'ESTILO'];
        const mente = ['INTELIGENCIA', 'FELICIDAD', 'ESPIRITUALIDAD', 'CONFIANZA'];
        const social = ['CARISMA', 'EMPATÍA', 'AGRESIVIDAD', 'GENEROSIDAD', 'RIQUEZA', 'LIBIDO'];

        // CLASE PARA MANEJAR BARRITAS
        class BarraManager {
            constructor(containerId, contadorId, maxPuntos, items) {
                this.container = document.getElementById(containerId);
                this.contador = document.getElementById(contadorId);
                this.maxPuntos = maxPuntos;
                this.items = items;
                this.valores = new Array(items.length).fill(0);
                this.puntosRestantes = maxPuntos;
                this.inicializar();
            }

            inicializar() {
                this.items.forEach((nombre, index) => {
                    const div = document.createElement('div');
                    div.className = 'barra-item';
                    
                    const nombreDiv = document.createElement('div');
                    nombreDiv.className = 'barra-nombre';
                    nombreDiv.textContent = nombre;
                    
                    const controlDiv = document.createElement('div');
                    controlDiv.className = 'barra-control';
                    
                    // Barra de progreso
                    const sliderDiv = document.createElement('div');
                    sliderDiv.className = 'barra-slider';
                    sliderDiv.onclick = (e) => this.clickBarra(index, e);
                    
                    const progresoDiv = document.createElement('div');
                    progresoDiv.className = 'barra-progreso';
                    progresoDiv.id = `progreso-${containerId}-${index}`;
                    
                    sliderDiv.appendChild(progresoDiv);
                    
                    // Valor numérico
                    const valorSpan = document.createElement('span');
                    valorSpan.className = 'barra-valor';
                    valorSpan.id = `valor-${containerId}-${index}`;
                    valorSpan.textContent = '0';
                    
                    // Botones + y -
                    const botonesDiv = document.createElement('div');
                    botonesDiv.className = 'barra-botones';
                    
                    const btnMenos = document.createElement('button');
                    btnMenos.className = 'barra-btn';
                    btnMenos.textContent = '-';
                    btnMenos.onclick = () => this.cambiarValor(index, -1);
                    
                    const btnMas = document.createElement('button');
                    btnMas.className = 'barra-btn';
                    btnMas.textContent = '+';
                    btnMas.onclick = () => this.cambiarValor(index, 1);
                    
                    botonesDiv.appendChild(btnMenos);
                    botonesDiv.appendChild(btnMas);
                    
                    controlDiv.appendChild(sliderDiv);
                    controlDiv.appendChild(valorSpan);
                    controlDiv.appendChild(botonesDiv);
                    
                    // Numeritos del 1 al 5
                    const numeritosDiv = document.createElement('div');
                    numeritosDiv.className = 'numeritos';
                    for (let i = 1; i <= 5; i++) {
                        const num = document.createElement('span');
                        num.textContent = i;
                        numeritosDiv.appendChild(num);
                    }
                    
                    div.appendChild(nombreDiv);
                    div.appendChild(controlDiv);
                    div.appendChild(numeritosDiv);
                    
                    this.container.appendChild(div);
                });
                this.actualizarTodo();
            }

            clickBarra(index, e) {
                const rect = e.currentTarget.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const porcentaje = x / rect.width;
                let nuevoValor = Math.round(porcentaje * 5);
                nuevoValor = Math.max(0, Math.min(5, nuevoValor));
                
                const diferencia = nuevoValor - this.valores[index];
                if (diferencia > 0 && this.puntosRestantes >= diferencia) {
                    this.valores[index] = nuevoValor;
                    this.puntosRestantes -= diferencia;
                } else if (diferencia < 0) {
                    this.valores[index] = nuevoValor;
                    this.puntosRestantes -= diferencia;
                }
                this.actualizarTodo();
            }

            cambiarValor(index, delta) {
                const nuevoValor = this.valores[index] + delta;
                if (nuevoValor < 0 || nuevoValor > 5) return;
                
                if (delta > 0 && this.puntosRestantes > 0) {
                    this.valores[index] = nuevoValor;
                    this.puntosRestantes--;
                } else if (delta < 0) {
                    this.valores[index] = nuevoValor;
                    this.puntosRestantes++;
                }
                this.actualizarTodo();
            }

            actualizarTodo() {
                for (let i = 0; i < this.items.length; i++) {
                    const progreso = document.getElementById(`progreso-${this.container.id}-${i}`);
                    const valor = document.getElementById(`valor-${this.container.id}-${i}`);
                    
                    if (progreso) {
                        const porcentaje = (this.valores[i] / 5) * 100;
                        progreso.style.width = porcentaje + '%';
                    }
                    if (valor) {
                        valor.textContent = this.valores[i];
                    }
                }
                this.contador.textContent = this.puntosRestantes;
            }

            validar() {
                return this.puntosRestantes === 0;
            }

            getValores() {
                return this.valores;
            }
        }

        // INICIALIZAR SECCIONES
        const habManager = new BarraManager('habilidades-container', 'contador-habilidades', 25, habilidades);
        const cuerpoManager = new BarraManager('cuerpo-container', 'contador-cuerpo', 12, cuerpo);
        const menteManager = new BarraManager('mente-container', 'contador-mente', 9, mente);
        const socialManager = new BarraManager('social-container', 'contador-social', 14, social);

        // SUBIR IMAGEN
        document.getElementById('cargar-imagen').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    const img = document.getElementById('imagen-previa');
                    img.src = event.target.result;
                    img.style.display = 'block';
                };
                reader.readAsDataURL(file);
            }
        });

        // FUNCIONES DE MENSAJE
        function mostrarMensaje(texto) {
            document.getElementById('mensaje-texto').textContent = texto;
            document.getElementById('mensaje').style.display = 'block';
        }

        function cerrarMensaje() {
            document.getElementById('mensaje').style.display = 'none';
        }

        // VALIDAR Y ENVIAR
        function enviarFormulario() {
            const nombre = document.getElementById('nombre').value;
            const email = document.getElementById('email').value;
            const edad = document.getElementById('edad').value;
            const genero = document.getElementById('genero').value;
            const raza = document.getElementById('raza').value;
            const rango = document.getElementById('rango').value;
            const altura = document.getElementById('altura').value;

            if (!nombre || !email || !edad || !genero || !raza || !rango || !altura) {
                mostrarMensaje('* Completa todos los campos básicos.');
                return;
            }

            if (!habManager.validar()) {
                mostrarMensaje('* HABILIDADES: Debes usar los 25 puntos.');
                return;
            }

            if (!cuerpoManager.validar()) {
                mostrarMensaje('* CUERPO: Debes usar los 12 puntos.');
                return;
            }

            if (!menteManager.validar()) {
                mostrarMensaje('* MENTE: Debes usar los 9 puntos.');
                return;
            }

            if (!socialManager.validar()) {
                mostrarMensaje('* SOCIAL: Debes usar los 14 puntos.');
                return;
            }

            const opciones = [
                document.getElementById('opcion1').value,
                document.getElementById('opcion2').value,
                document.getElementById('opcion3').value,
                document.getElementById('opcion4').value
            ];

            if (opciones.some(o => !o)) {
                mostrarMensaje('* Selecciona todas las opciones exclusivas.');
                return;
            }

            mostrarMensaje('* Solicitud enviada. Los guardianes la revisarán.');
            setTimeout(() => {
                window.location.href = 'menu.html';
            }, 2000);
        }
    </script>
</body>
</html>

// Función para guardar el personaje (PON ESTO EN formulario.html)
function guardarPersonaje() {
    // Crear objeto con todos los datos del personaje
    const personajeData = {
        // Datos básicos
        nombre: document.getElementById('nombre').value,
        email: document.getElementById('email').value,
        raza: document.getElementById('raza').value,
        rango: document.getElementById('rango').value,
        edad: document.getElementById('edad').value,
        genero: document.getElementById('genero').value,
        altura: document.getElementById('altura').value,
        imagen: imagenData || null,
        
        // Habilidades (valores de las barras)
        habilidades: {
            'PERSUASIÓN': obtenerValorBarra('habilidades', 0),
            'COMUNICACIÓN': obtenerValorBarra('habilidades', 1),
            'PERCEPCIÓN': obtenerValorBarra('habilidades', 2),
            'MEDITACIÓN': obtenerValorBarra('habilidades', 3),
            'ALFABETISMO': obtenerValorBarra('habilidades', 4),
            'CREATIVIDAD': obtenerValorBarra('habilidades', 5),
            'TECNOLOGÍA': obtenerValorBarra('habilidades', 6),
            'COMBATE': obtenerValorBarra('habilidades', 7),
            'SUPERVIVENCIA': obtenerValorBarra('habilidades', 8),
            'COQUETA': obtenerValorBarra('habilidades', 9),
            'SEDUCCIÓN': obtenerValorBarra('habilidades', 10),
            'SUERTE': obtenerValorBarra('habilidades', 11)
        },
        
        // Atributos
        cuerpo: {
            'DESTREZA': obtenerValorBarra('cuerpo', 0),
            'SALUD': obtenerValorBarra('cuerpo', 1),
            'ENERGÍA': obtenerValorBarra('cuerpo', 2),
            'BELLEZA': obtenerValorBarra('cuerpo', 3),
            'ESTILO': obtenerValorBarra('cuerpo', 4)
        },
        
        mente: {
            'INTELIGENCIA': obtenerValorBarra('mente', 0),
            'FELICIDAD': obtenerValorBarra('mente', 1),
            'ESPIRITUALIDAD': obtenerValorBarra('mente', 2),
            'CONFIANZA': obtenerValorBarra('mente', 3)
        },
        
        social: {
            'CARISMA': obtenerValorBarra('social', 0),
            'EMPATÍA': obtenerValorBarra('social', 1),
            'AGRESIVIDAD': obtenerValorBarra('social', 2),
            'GENEROSIDAD': obtenerValorBarra('social', 3),
            'RIQUEZA': obtenerValorBarra('social', 4),
            'LIBIDO': obtenerValorBarra('social', 5)
        },
        
        // Opciones exclusivas
        opciones: {
            opcion1: document.getElementById('opcion1').value,
            opcion2: document.getElementById('opcion2').value,
            opcion3: document.getElementById('opcion3').value,
            opcion4: document.getElementById('opcion4').value
        },
        
        // Inventario vacío (se llenará después)
        inventario: []
    };
    
    // Guardar en localStorage
    localStorage.setItem('personajeData', JSON.stringify(personajeData));
    
    // Mostrar mensaje y redirigir
    alert('* Solicitud enviada. Los guardianes la revisarán.');
    window.location.href = 'menu.html';
}

// Función auxiliar para obtener valores de las barras
function obtenerValorBarra(seccion, index) {
    // Aquí debes obtener el valor de la barra según cómo las implementaste
    // Por ahora retorna valores de ejemplo
    return 3; // Temporal - cámbialo después
}
